{"chunk":0,"numChunks":1,"fileHash":"K2V4yyj1mB1JHfM6NVaQNlGMSDCAKVQZA8Ovq1eH6iQ=","filePath":"frontend/src/Admin/containers/ShowSubmissionsTab.js","content":"import { graphql } from 'react-apollo'\r\nimport { compose } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport { displayError } from '../../shared/actions'\r\n\r\nimport ShowSubmissionsTab from '../components/ShowSubmissionsTab'\r\nimport UpdateInvitation from '../mutations/updateInvitation.graphql'\r\nimport FinalizeShowInvites from '../mutations/finalizeShowInvites.graphql'\r\nimport UpdateExcludeFromJudging from '../mutations/updateExcludeFromJudging.graphql'\r\n\r\nconst mapDispatchToProps = (dispatch, { showId }) => ({\r\n  handleError: message => dispatch(displayError(message))\r\n})\r\n\r\nexport default compose(\r\n  connect(null, mapDispatchToProps),\r\n  graphql(UpdateInvitation, {\r\n    props: ({ mutate }) => ({\r\n      updateInvite: (id, value) =>\r\n        mutate({\r\n          variables: {\r\n            id: id,\r\n            input: {\r\n              invited: value\r\n            }\r\n          }\r\n        })\r\n    })\r\n  }),\r\n  graphql(FinalizeShowInvites, {\r\n    props: ({ mutate, ownProps }) => ({\r\n      finalizeInvites: () =>\r\n        mutate({\r\n          variables: {\r\n            id: ownProps.show.id,\r\n            input: {\r\n              finalized: true\r\n            }\r\n          }\r\n        })\r\n    })\r\n  }),\r\n  graphql(UpdateExcludeFromJudging, {\r\n    props: ({ mutate }) => ({\r\n      updateExcludeFromJudging: (id, value) =>\r\n        mutate({\r\n          variables: {\r\n            id: id,\r\n            input: {\r\n              excludeFromJudging: value\r\n            }\r\n          }\r\n        })\r\n    })\r\n  })\r\n)(ShowSubmissionsTab)\r\n"}