{"chunk":0,"numChunks":1,"fileHash":"ZRq/P4rFDACH3EOkHQqa/KKv6f9TqcJtHYoeAXLGouY=","filePath":"backend/db/migrations/20171116292203-create-portfolio-period-judges.js","content":"/**\r\n * Creates the 'portfolioPeriodJudges' table\r\n * @param {*} queryInterface \r\n * @param {*} Sequelize \r\n * @returns 'portfolioPeriodJudges' table\r\n */\r\n export function up (queryInterface, Sequelize) {\r\n    return queryInterface.createTable('portfolioPeriodJudges', {\r\n      id: {\r\n        allowNull: false,\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: Sequelize.INTEGER\r\n      },\r\n      \r\n      // id of the Portfolio Period\r\n      portfolioPeriodId: {\r\n        allowNull: false,\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n          model: 'portfolioPeriods',\r\n          key: 'id'\r\n        },\r\n      },\r\n\r\n      // The username of the judge for the Portfolio Period\r\n      judgeUsername: {\r\n        type: Sequelize.STRING,\r\n        allowNull: false,\r\n        references: { model: 'users', key: 'username' },\r\n        primaryKey: true\r\n      },\r\n\r\n      createdAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      },\r\n      updatedAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      }\r\n    })\r\n  }\r\n    \r\n  export function down (queryInterface) {\r\n    return queryInterface.dropTable('portfolioPeriodJudges')\r\n  }"}