{"chunk":17,"numChunks":19,"fileHash":"R3AhPGkTG76iaT0CuSXaqvdmSzdiLm7UvsgibdjZdX4=","filePath":"backend/resolvers/mutations/show.js","content":"import { promisify } from 'util'\nexport function deleteShow (_, args, context) {\n  return db.transaction(transaction =>\n    Show.findByPk(args.id, {transaction})\n      .then(show => {\n        return Entry.findAll({where: {showId: args.id}, transaction})\n          .then(entries => {\n            // Collect IDs of the specific entry-types\n            const imageIds = entries\n              .filter(e => e.entryType === IMAGE_ENTRY)\n              .map(e => e.entryId)\n            const videoIds = entries\n              .filter(e => e.entryType === VIDEO_ENTRY)\n              .map(e => e.entryId)\n            const otherIds = entries\n              .filter(e => e.entryType === OTHER_ENTRY)\n              .map(e => e.entryId)\n            // Query the db to get their paths"}