{"chunk":4,"numChunks":10,"fileHash":"x1upVwdHKN+j5QeCqERukBxwL+xkPXY2Dj+0y2g4HYo=","filePath":"backend/test/resolvers/userQuery.js","content":"/* eslint-disable no-unused-expressions */\ndescribe('User Queries', function () {\n  describe('User query', function () {\n    it('Allows users to find themeselves', function (done) {\n      fakeUser({username: 'user1'}).then((u) => {\n        user('', {id: u.username}, {auth: {type: 'STUDENT', username: 'user1'}})\n          .then((result) => {\n            expect(result.username).to.equal(u.username)\n            done()\n          })\n      })\n    })\n    it('Does not allow non admins to find other users by username', function (done) {\n      fakeUser({username: 'user1'}).then((u) => {\n        expect(() => user('', {id: 'anotheruser'},\n          {auth: { type: 'STUDENT', username: 'user1' }})).to.throw(/Permission Denied/)\n        done()\n      })\n    })\n    it('Allows admin to search for anyone', function (done) {\n      Promise.all([fakeUser({username: 'user1', type: ADMIN}),\n        fakeUser({username: 'user2', type: JUDGE})]).then(() => {\n        user('', {id: 'user2'}, {auth: {type: 'ADMIN'}})\n          .then((result) => {\n            expect(result.username).to.equal('user2')\n            done()\n          })\n      })\n    })\n  })"}