{"chunk":28,"numChunks":46,"fileHash":"DQQZubyGjQ+D3H+B2E8TdNYXpgsQLpU9NZS5B8BiEB4=","filePath":"backend/routes/download.js","content":"import fs from 'fs'\nrouter.route('/csv/:showId')\n  .get(ensureAdminDownloadToken, (req, res, next) => {\n    Show.findByPk(req.params.showId, { rejectOnEmpty: true })\n      .then(show => {\n        Entry.findAll({ where: { showId: req.params.showId } })\n          .then(entries => {\n            return Promise.all([\n              .then(([images, videos, otherMedia, submissionsWithSubmitters]) => {\n                return submissionsWithSubmitters.reduce((arr, { user, group, entries }) => {\n                  // create update entry objects that contain modified entry data plus:\n                  // path, vert and horiz dementions medaiType, videoUrl"}