{"chunk":0,"numChunks":1,"fileHash":"Acj4UVWUJ+Bb6AAZ4JK202dVQVDIj61weSEI2y2WYHk=","filePath":"backend/resolvers/mutations/portfolio.js","content":"import Portfolio from '../../models/portfolio'\r\nimport { UserError } from 'graphql-errors'\r\nimport { STUDENT } from '../../constants'\r\n\r\nexport async function createPortfolio (_, args, context) {\r\n  // only students can create portfolios\r\n  if (context.authType !== STUDENT) {\r\n    throw new UserError('Permission Denied')\r\n  }\r\n  const {title, studentUsername, portfolioPeriodId} = args.input\r\n\r\n  // Not all input is used in the portfolio table, extract only data needed for the portfolio\r\n  const newPortfolio = {\r\n    title,\r\n    studentUsername,\r\n    portfolioPeriodId\r\n  }\r\n  return Portfolio.create(newPortfolio)\r\n}"}