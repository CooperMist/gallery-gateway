{"chunk":0,"numChunks":1,"fileHash":"YF0nGWksJ0drky+GzS4qhI2I58xyFdJPcnfuuzSFsUE=","filePath":"backend/db/migrations/20180203005704-create-vote.js","content":"export function up (queryInterface, Sequelize) {\r\n  return queryInterface.createTable('votes', {\r\n    id: {\r\n      allowNull: false,\r\n      autoIncrement: true,\r\n      primaryKey: true,\r\n      type: Sequelize.INTEGER\r\n    },\r\n    judgeUsername: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      references: {\r\n        model: 'users',\r\n        key: 'username'\r\n      },\r\n      onUpdate: 'cascade',\r\n      onDelete: 'cascade'\r\n    },\r\n    entryId: {\r\n      type: Sequelize.INTEGER,\r\n      allowNull: false,\r\n      references: {\r\n        model: 'entries',\r\n        key: 'id'\r\n      },\r\n      onUpdate: 'cascade',\r\n      onDelete: 'cascade'\r\n    },\r\n    value: {\r\n      type: Sequelize.INTEGER,\r\n      allowNull: false\r\n    },\r\n    createdAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    },\r\n    updatedAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    }\r\n  })\r\n}\r\n\r\nexport function down (queryInterface) {\r\n  return queryInterface.dropTable('votes')\r\n}\r\n"}