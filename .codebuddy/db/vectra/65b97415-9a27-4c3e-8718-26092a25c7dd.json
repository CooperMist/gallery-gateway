{"chunk":0,"numChunks":1,"fileHash":"28ChIV2tJW7S1SOsVvvY24oSTA0cQImLoD3axZb23vs=","filePath":"backend/db/migrations/20171116292205-create-scholarship-submissions.js","content":"/**\r\n * Creates the 'scholarshipSubmissions' table\r\n * @param {*} queryInterface \r\n * @param {*} Sequelize \r\n * @returns 'scholarshipSubmissions' table\r\n */\r\n export function up (queryInterface, Sequelize) {\r\n    return queryInterface.createTable('scholarshipSubmissions', {\r\n      // the id of scholarship submission\r\n      id: {\r\n        allowNull: false,\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: Sequelize.INTEGER\r\n      },\r\n      // link to the path of the essay (.pdf) associated with this scholarship\r\n      essayPath: {\r\n        allowNull: false,\r\n        type: Sequelize.STRING\r\n      },\r\n      // id of scholarship the submission is for\r\n      scholarshipId: {\r\n        allowNull: false,\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n          model: 'scholarships',\r\n          key: 'id'\r\n        }\r\n      },\r\n      // id of associated portfolio period\r\n      portfolioPeriodId: {\r\n        allowNull: false,\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n          model: 'portfolioPeriods',\r\n          key: 'id'\r\n        }\r\n      },\r\n      // id of portfolio submitted\r\n      portfolioId: {\r\n        allowNull: false,\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n          model: 'portfolios',\r\n          key: 'id'\r\n        }\r\n      },\r\n      // When the scholarship was initially created\r\n      createdAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      },\r\n      // The last time the scholarship was updated\r\n      updatedAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      }\r\n    })\r\n  }\r\n    \r\n  export function down (queryInterface) {\r\n    return queryInterface.dropTable('scholarshipSubmissions')\r\n  }\r\n    "}