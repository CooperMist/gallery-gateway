{"chunk":0,"numChunks":1,"fileHash":"0V0rS0Gy6+Vj8A4NG5p2rLuF/omkV4/dqxUXIYUJqY4=","filePath":"backend/models/scholarship.js","content":"import DataTypes from 'sequelize'\r\nimport sequelize from '../config/sequelize'\r\nimport ScholarshipSubmission from './scholarshipSubmissions'\r\n\r\n// Defines a scholarship object and all of its fields\r\nconst Scholarship = sequelize.define('scholarship', {\r\n  // Name of scholarship\r\n  name: {\r\n    type: DataTypes.STRING,\r\n    allowNull: false,\r\n    notEmpty: true\r\n  },\r\n  // Description for scholarship\r\n  description: {\r\n    type: DataTypes.STRING,\r\n    allowNull: true,\r\n    notEmpty: false\r\n  },\r\n  // State of the scholarship (true if active, false if inactive)\r\n  active: {\r\n    type:DataTypes.BOOLEAN,\r\n    allowNull: false\r\n  }\r\n})\r\n\r\nScholarship.prototype.getSubmissions = function getSubmissions () {\r\n  return ScholarshipSubmission.findAll({ where: { scholarshipId: this.id } })\r\n}\r\n\r\nScholarship.prototype.getSubmissionsByPeriodId = function getSubmissionsByPeriodId (portfolioPeriodId) {\r\n  if (typeof portfolioPeriodId === \"number\"){\r\n    return ScholarshipSubmission.findAll({ where: { scholarshipId: this.id, portfolioPeriodId } })\r\n  }\r\n  return []\r\n}\r\n\r\nexport default Scholarship"}