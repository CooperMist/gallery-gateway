{"chunk":0,"numChunks":1,"fileHash":"SIAgBfO7L5W2blrk2i+M94giFZ1tx9fPkUvi6vlfDVM=","filePath":"frontend/src/Admin/containers/EditShowForm.js","content":"import { graphql } from 'react-apollo'\r\nimport { push } from 'connected-react-router'\r\nimport { connect } from 'react-redux'\r\nimport { compose, mapProps } from 'recompose'\r\nimport { displayError } from '../../shared/actions'\r\n\r\nimport ShowsQuery from '../queries/shows.graphql'\r\nimport EditShowMutation from '../mutations/editShow.graphql'\r\nimport EditShowForm from '../components/EditShowForm'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  done: () => dispatch(push('/')),\r\n  handleError: message => dispatch(displayError(message))\r\n})\r\n\r\nexport default compose(\r\n  connect(null, mapDispatchToProps),\r\n  graphql(EditShowMutation, {\r\n    props: ({ mutate, ownProps }) => ({\r\n      update: show =>\r\n        mutate({\r\n          variables: { id: ownProps.show.id, input: show }\r\n        })\r\n    }),\r\n    options: () => ({\r\n      refetchQueries: [\r\n        {\r\n          query: ShowsQuery\r\n        }\r\n      ]\r\n    })\r\n  })\r\n)(EditShowForm)\r\n"}