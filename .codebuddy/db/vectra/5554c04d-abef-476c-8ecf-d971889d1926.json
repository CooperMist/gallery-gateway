{"chunk":20,"numChunks":38,"fileHash":"0HdfV29crxybzCYcCSJEw6NdslXesS3O1aP5Kzlwt2A=","filePath":"backend/test/resolvers/entry.js","content":"import { expect } from 'chai'\ndescribe('Entry Mutations', function () {\n  describe('Image Creation', function () {\n    describe('Validation Failures', function () {\n      it('rejects entries that are past the submission date', function () {\n        return Promise.all([fakeUser(), fakeShow({entryStart: '2015-09-09', entryEnd: '2015-10-10'})])\n          .then((models) => {\n            const user = models[0]\n            const show = models[1]\n            const args = {\n              input: {\n                entry: standardEntry(user, show),\n                path: 'a/path.jpg',\n                horizDimInch: 1.2,\n                vertDimInch: 1.3,\n                mediaType: 'mymedia'\n              }\n            }\n            return createPhoto({}, args, { auth: { type: 'ADMIN' } })\n              .then(() => Promise.reject(new Error('should have rejected')))\n              .catch((e) => {\n                expect(e.message).to.match(/Submission deadline has ended/)\n                return Promise.resolve()\n              })\n          })\n      })"}