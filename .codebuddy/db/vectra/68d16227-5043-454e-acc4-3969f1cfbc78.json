{"chunk":0,"numChunks":9,"fileHash":"YOuAqeDV8U74YnQ9wIMRlEJcJQERugrUkolbfgwnXMM=","filePath":"backend/test/routes/zipDownload.js","content":"/* eslint-disable no-unused-expressions */\nimport { expect } from 'chai'\nimport crypto from 'crypto'\nimport fs from 'fs'\nimport tar from 'tar'\nimport path from 'path'\nimport request from 'supertest'\nimport server from '../../server'\nimport config from '../../config'\nimport { fakeShow, fakeImageEntry, fakeGroup, fakeUser } from '../factories'\nimport User from '../../models/user'\nimport { signToken } from '../../helpers/jwt'\nimport { ADMIN, STUDENT } from '../../constants'\nimport { doesNotMatch } from 'assert'\nconst binaryParser = (res, callback) => {\n  // taken from https://stackoverflow.com/q/13573315\n  res.setEncoding('binary')\n  res.data = ''\n  res.on('data', function (chunk) {\n    res.data += chunk\n  })\n  res.on('end', function () {\n    callback(null, Buffer.from(res.data, 'binary'))\n  })\n}\nconst hash = (data) => crypto.createHash('md5').update(data).digest('hex')"}