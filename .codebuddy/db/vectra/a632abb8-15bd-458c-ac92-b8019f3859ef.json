{"chunk":3,"numChunks":5,"fileHash":"N9swYPd6sPagdvIWG8pfunUvXwwOqIJVevODQ0LxeM4=","filePath":"backend/test/factories.js","content":"import faker from 'faker'\nfunction fakeEntry (opts) {\n  opts = opts || {}\n  if (!opts.image && !opts.video && !opts.other) {\n    throw Error('No entry item found')\n  }\n  opts.title = opts.title || faker.lorem.words(3)\n  opts.moreCopies = opts.moreCopies === undefined ? faker.random.boolean() : opts.moreCopies\n  opts.comment = opts.comment || faker.lorem.sentence()\n  opts.forSale = opts.forSale === undefined ? faker.random.boolean() : opts.forSale\n  opts.invited = opts.invited === undefined ? faker.random.boolean() : opts.invited\n  opts.awardWon = opts.awardWon || faker.lorem.words(2)\n  opts.yearLevel = opts.yearLevel === undefined ? faker.lorem.word() : opts.yearLevel\n  opts.academicProgram = opts.academicProgram === undefined ? faker.lorem.word() : opts.academicProgram\n  const showPromise = opts.show ? Promise.resolve(opts.show) : fakeShow()\n  const userPromise = opts.user || opts.group ? Promise.resolve(opts.user) : fakeUser()\n  const entryType = opts.image ? IMAGE_ENTRY : opts.video ? VIDEO_ENTRY : OTHER_ENTRY\n  const entryId = opts.image ? opts.image.id : opts.video ? opts.video.id : opts.other.id\n  return Promise.all([showPromise, userPromise])\n    .then((models) => {\n      const show = models[0]\n      const user = models[1]\n      return Entry.create({\n        showId: show.id,\n        studentUsername: user ? user.username : null,\n        groupId: opts.group ? opts.group.id : null,\n        entryType: entryType,\n        entryId: entryId,\n        title: opts.title,\n        comment: opts.comment,\n        moreCopies: opts.moreCopies,\n        forSale: opts.forSale,\n        awardWon: opts.awardWon"}