{"chunk":18,"numChunks":19,"fileHash":"R3AhPGkTG76iaT0CuSXaqvdmSzdiLm7UvsgibdjZdX4=","filePath":"backend/resolvers/mutations/show.js","content":"import { promisify } from 'util'\nexport function assignToShow (_, args, context) {\n  if (context.authType !== ADMIN) {\n    throw new UserError('Permission Denied')\n  }\n  return Show.findOne({ where: { id: args.showId } }).then((show) => {\n    if (show === null) {\n      throw new UserError('Show Not Found')\n    }\n    if (args.usernames.length < 1) {\n      throw new UserError('Please input one or more usernames')\n    }\n    return show\n      .addUsers(args.usernames)\n      .catch(() => {\n        throw new UserError('Cannot find one or more usernames')\n      })\n  }).then(() => { return true })\n}"}