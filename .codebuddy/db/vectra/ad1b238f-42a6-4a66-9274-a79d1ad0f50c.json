{"chunk":0,"numChunks":1,"fileHash":"wBJbef1ehTZd0qWlqPLA5MSwQ9oZXPyyW8US3HJu4zY=","filePath":"frontend/src/app.js","content":"import 'babel-polyfill' // See: https://babeljs.io/docs/usage/polyfill/#usage-in-node-browserify-webpack\r\n\r\nimport React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { AppContainer } from 'react-hot-loader'\r\n\r\nimport Root from './'\r\n\r\nconst render = Component => {\r\n  ReactDom.render(\r\n    <AppContainer>\r\n      <Component />\r\n    </AppContainer>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\n// See: https://stackoverflow.com/q/10730362\r\nfunction getCookie (name) {\r\n  var value = '; ' + document.cookie\r\n  var parts = value.split('; ' + name + '=')\r\n  if (parts.length === 2) {\r\n    return parts\r\n      .pop()\r\n      .split(';')\r\n      .shift()\r\n  }\r\n}\r\n\r\n// See: https://stackoverflow.com/a/10593045\r\nfunction deleteCookie (name) {\r\n  document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;'\r\n}\r\n\r\nwindow.onload = () => {\r\n  // If the JWT token is in the cookie, read that in, and then delete the cookie\r\n  if (getCookie('_token_v1')) {\r\n    window.localStorage.setItem('_token_v1', getCookie('_token_v1'))\r\n    deleteCookie('_token_v1')\r\n  }\r\n\r\n  // Start rendering the main site\r\n  render(Root)\r\n}\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./', () => {\r\n    render(Root)\r\n  })\r\n}\r\n"}