{"chunk":0,"numChunks":1,"fileHash":"7GSOO/9poQtchjLwMesOML7+yDxx+8CFT+W+NmXhXcQ=","filePath":"backend/models/group.js","content":"import DataTypes from 'sequelize'\r\nimport sequelize from '../config/sequelize'\r\n\r\nimport User from './user'\r\n\r\nconst Group = sequelize.define('group', {\r\n  creatorUsername: {\r\n    allowNull: false,\r\n    type: DataTypes.STRING,\r\n    references: {\r\n      model: 'users',\r\n      key: 'username'\r\n    },\r\n    onDelete: 'cascade',\r\n    onUpdate: 'cascade'\r\n  },\r\n  participants: {\r\n    allowNull: false,\r\n    type: DataTypes.STRING\r\n  },\r\n  createdAt: {\r\n    allowNull: false,\r\n    type: DataTypes.DATE\r\n  },\r\n  updatedAt: {\r\n    allowNull: false,\r\n    type: DataTypes.DATE\r\n  }\r\n})\r\n\r\n/**\r\n * Gets the creator of this group as a Promise\r\n */\r\nGroup.prototype.getCreator = function getCreator () {\r\n  if (!this.creatorUsername) {\r\n    return Promise.resolve(null)\r\n  }\r\n  return User.findByPk(this.creatorUsername)\r\n}\r\n\r\nexport default Group\r\n"}