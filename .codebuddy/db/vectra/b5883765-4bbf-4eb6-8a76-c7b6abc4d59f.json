{"chunk":0,"numChunks":1,"fileHash":"8XODZcbl5N7nPVIrVKf3qWqdNhJGQ3gkaI+gXEzha8E=","filePath":"backend/db/migrations/20171116292202-create-portfolios.js","content":"/**\r\n * Creates the 'portfolios' table\r\n * @param {*} queryInterface \r\n * @param {*} Sequelize \r\n * @returns 'portfolios' table\r\n */\r\nexport function up (queryInterface, Sequelize) {\r\n  return queryInterface.createTable('portfolios', {\r\n    id: {\r\n      allowNull: false,\r\n      autoIncrement: true,\r\n      primaryKey: true,\r\n      type: Sequelize.INTEGER\r\n    },\r\n    title: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      notEmpty: true\r\n    },\r\n    studentUsername: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      references: { model: 'users', key: 'username' }\r\n    },\r\n    name: {\r\n      type: Sequelize.STRING,\r\n      allowNull: true\r\n    },\r\n    portfolioPeriodId: {\r\n      type: Sequelize.INTEGER,\r\n      references: {\r\n        model: 'portfolioPeriods',\r\n        key: 'id'\r\n      }\r\n    },\r\n    score: {\r\n      type: Sequelize.DOUBLE,\r\n      defaultValue: 0,\r\n      allowNull: false\r\n    },\r\n    createdAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    },\r\n    updatedAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    }\r\n  })\r\n}\r\n  \r\nexport function down (queryInterface) {\r\n  return queryInterface.dropTable('portfolios')\r\n}\r\n  "}