{"chunk":0,"numChunks":1,"fileHash":"dUdYtk9yWJBiaGvqS2IUN6mV0AK8EdNXwBMwLLn9FNA=","filePath":"backend/db/migrations/20180122205100-modify-group.js","content":"export function up (queryInterface, Sequelize) {\r\n  return queryInterface.addColumn(\r\n    'groups',\r\n    'participants',\r\n    {\r\n      allowNull: false,\r\n      type: Sequelize.STRING\r\n    }\r\n  ).then(() => {\r\n    queryInterface.addColumn(\r\n      'groups',\r\n      'creatorUsername',\r\n      {\r\n        type: Sequelize.STRING,\r\n        references: {\r\n          model: 'users',\r\n          key: 'username'\r\n        },\r\n        onUpdate: 'cascade',\r\n        onDelete: 'cascade'\r\n      }\r\n    )\r\n  })\r\n}\r\n\r\nexport function down (queryInterface) {\r\n  return queryInterface.removeColumn('groups', 'participants')\r\n    .then(() => queryInterface.removeColumn('groups', 'creatorUsername'))\r\n}\r\n"}