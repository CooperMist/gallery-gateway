{"chunk":0,"numChunks":1,"fileHash":"5el9VDwJLzuZaQC1YEl8HzkDGWuyHe7MDLsyqHhSRJQ=","filePath":"frontend/src/Student/containers/Portfolios.js","content":"// GraphQL and Redux State\r\nimport { graphql } from 'react-apollo'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { displayError } from '../../shared/actions'\r\n\r\n// Portfolio related data\r\nimport ActivePortfolioPeriodsQuery from '../queries/activePortfolioPeriods.graphql'\r\nimport PortfoliosQuery from '../queries/portfolios.graphql'\r\nimport Portfolios from '../components/portfolio/Portfolios'\r\n\r\nconst mapStateToProps = state => ({\r\n  studentUsername: state.shared.auth.user.username\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleError: message => dispatch(displayError(message))\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  graphql(PortfoliosQuery, {\r\n    props: ({ data: { portfolios, loading, error } }) => ({\r\n      portfolios,\r\n      loading,\r\n      error\r\n    }),\r\n    options: ownProps => ({\r\n      variables: {\r\n        studentUsername: ownProps.studentUsername\r\n      }\r\n    })\r\n  }),\r\n  // Query for the active portfolio period, if one exists\r\n  graphql(ActivePortfolioPeriodsQuery, {\r\n    props: ({ data: { portfolioPeriods, loading, error } }) => ({\r\n      activePortfolioPeriods: portfolioPeriods || [],\r\n      loading,\r\n      error\r\n    }),\r\n    options: ownProps => ({\r\n      variables: {\r\n        activeSubmission: true\r\n      }\r\n    })\r\n  })\r\n)(Portfolios)\r\n"}