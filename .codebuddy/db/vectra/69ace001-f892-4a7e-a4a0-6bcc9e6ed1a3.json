{"chunk":0,"numChunks":1,"fileHash":"Ea92pfGVf1DeRfVs0st/FCt2OEhVqxJoWuDjMFhC9JQ=","filePath":"frontend/src/Admin/containers/ShowJudgesTab.js","content":"import React from 'react'\r\nimport ShowJudgesTab from '../components/ShowJudgesTab'\r\n\r\nexport default function ({ show }) {\r\n  // Extract all votes we care about\r\n  const allVotes = show.entries.reduce(\r\n    // Don't count votes on entries that are excluded\r\n    (lst, entry) => (entry.excludeFromJudging ? lst : [...lst, ...entry.votes]),\r\n    []\r\n  )\r\n\r\n  // Count the votes by judge\r\n  const voteCountByJudge = allVotes.reduce(\r\n    (accum, vote) => ({\r\n      ...accum,\r\n      [vote.judge.username]: (accum[vote.judge.username] || 0) + 1\r\n    }),\r\n    {}\r\n  )\r\n\r\n  // Count the number of total entries that are in judging\r\n  const numEntries = show.entries.filter(entry => !entry.excludeFromJudging)\r\n    .length\r\n\r\n  const showSortedJudges = {\r\n    ...show,\r\n    judges: show.judges.slice().sort(({ username: u1 }, { username: u2 }) => {\r\n      if (u1 < u2) {\r\n        return -1\r\n      }\r\n      if (u2 > u1) {\r\n        return 1\r\n      }\r\n      return 0\r\n    })\r\n  }\r\n\r\n  return (\r\n    <ShowJudgesTab\r\n      voteCountByJudge={voteCountByJudge}\r\n      numEntries={numEntries}\r\n      show={showSortedJudges}\r\n    />\r\n  )\r\n}\r\n"}