{"chunk":0,"numChunks":1,"fileHash":"AErY5X9S6/UFsGmXGHfdykbkW27n5nu8QEGj5/e+tyE=","filePath":"backend/db/migrations/20171029230713-create-user.js","content":"import { STUDENT, ADMIN, JUDGE } from '../../constants'\r\n\r\nexport function up (queryInterface, Sequelize) {\r\n  return queryInterface.createTable('users', {\r\n    username: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      notEmpty: true,\r\n      primaryKey: true\r\n    },\r\n    firstName: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      notEmpty: true\r\n    },\r\n    lastName: {\r\n      type: Sequelize.STRING,\r\n      allowNull: false,\r\n      notEmpty: true\r\n    },\r\n    displayName: {\r\n      type: Sequelize.STRING\r\n    },\r\n    type: {\r\n      type: Sequelize.ENUM(STUDENT, ADMIN, JUDGE),\r\n      allowNull: false,\r\n      notEmpty: true\r\n    },\r\n    createdAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    },\r\n    updatedAt: {\r\n      allowNull: false,\r\n      type: Sequelize.DATE,\r\n      defaultValue: Sequelize.fn('NOW')\r\n    }\r\n  })\r\n}\r\n\r\nexport function down (queryInterface) {\r\n  return queryInterface.dropTable('users')\r\n}\r\n"}