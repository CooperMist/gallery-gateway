{"chunk":0,"numChunks":1,"fileHash":"JgG8nax1QZkQHp8oJPPTZ3J/ipiiUny2nZ6Uywy1oRw=","filePath":"frontend/src/store/dev.js","content":"import history from 'history'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport { persistState } from 'redux-devtools' // eslint-disable-line import/no-extraneous-dependencies\r\nimport thunk from 'redux-thunk'\r\nimport { routerMiddleware } from 'connected-react-router'\r\n\r\nimport createReducer from '../reducer'\r\nimport client from '../../config/apollo'\r\n\r\nfunction getDebugSessionKey () {\r\n  const matches = window.location.href.match(/[?&]debug_session=([^&]+)\\b/)\r\n  return matches && matches.length > 0 ? matches[1] : null\r\n}\r\n\r\nconst store = createStore(\r\n  createReducer(),\r\n  compose(\r\n    applyMiddleware(thunk.withExtraArgument(client), routerMiddleware(history)),\r\n    persistState(getDebugSessionKey()),\r\n    window.devToolsExtension ? window.devToolsExtension() : f => f\r\n  )\r\n)\r\n\r\nif (module.hot) {\r\n  module.hot.accept('../reducer', () => {\r\n    const nextReducer = require('../reducer').default // eslint-disable-line global-require\r\n\r\n    store.replaceReducer(nextReducer)\r\n  })\r\n}\r\n\r\nexport default store\r\n"}