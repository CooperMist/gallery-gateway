{"chunk":2,"numChunks":13,"fileHash":"GpXOvF8WKxwDnF+WdW5RPz7CiGlqOB59c43orTD5Pz4=","filePath":"frontend/src/Student/components/portfolio/PortfolioSubmissionForm.js","content":"import axios from 'axios'\nfunction PortfolioSubmissionForm(props) {\n  const [showPreview, setShowPreview] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [form_data, setFormData] = useState({\n    title: \"Untitled\",\n    studentUsername: props.user.username,\n    submissions: [ENTRY_FACTORY()],\n    distributionAllowed: false\n  });\n  const params = new URLSearchParams(window.location.search);\n  const portfolioPeriodId = params.get(\"portfolioPeriodId\");\n  /**\n   * Effect for ensuring there is always 1 submission on the form\n   */\n  useEffect(() => {\n    if (form_data.submissions.length === 0) {\n      addSubmission();\n    }\n  }, [form_data.submissions])\n  /**\n   * Handles only allowing 10 submissions to be created a for a portfoliko\n   */\n  function addSubmission() {\n    if (form_data.submissions.length < 10) {\n      setFormData({\n        ...form_data,\n        submissions: form_data.submissions.concat(ENTRY_FACTORY())\n      });\n    }\n  }\n  function deleteSubmissions(submission_id) {\n    const filtered_submissions = form_data.submissions.filter((sub) => {\n      if (sub.id === submission_id) {\n        return false;\n      }\n      return true;\n    });\n    setFormData({\n      ...form_data,\n      submissions: filtered_submissions\n    });\n  }"}