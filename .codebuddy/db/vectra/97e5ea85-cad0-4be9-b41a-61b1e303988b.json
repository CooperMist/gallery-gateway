{"chunk":0,"numChunks":1,"fileHash":"W/Ztpw62b2cnAMVs4rdX1PiDFh2fGovGv+0NxvzvQuc=","filePath":"backend/db/migrations/202503061648-create-portfolio-ratings.js","content":"/**\r\n * Creates the 'portfolio ratings' table\r\n * @param {*} queryInterface \r\n * @param {*} Sequelize \r\n * @returns 'portfolio ratings' table\r\n */\r\nexport function up (queryInterface, Sequelize) {\r\n    return queryInterface.createTable('portfolioRatings', {\r\n      id: {\r\n        allowNull: false,\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: Sequelize.INTEGER\r\n      },\r\n      // id of portfolio submitted\r\n      portfolioId: {\r\n        allowNull: false,\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n          model: 'portfolios',\r\n          key: 'id'\r\n        }\r\n      },\r\n      rating: {\r\n        type: Sequelize.INTEGER,\r\n        defaultValue: 0,\r\n        allowNull: false\r\n      },\r\n        judgeUsername: {\r\n            type: Sequelize.STRING,\r\n            allowNull: false,\r\n            references: { model: 'users', key: 'username' },\r\n            primaryKey: true\r\n        },\r\n      createdAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      },\r\n      updatedAt: {\r\n        allowNull: false,\r\n        type: Sequelize.DATE,\r\n        defaultValue: Sequelize.fn('NOW')\r\n      }\r\n    })\r\n  }\r\n    \r\n  export function down (queryInterface) {\r\n    return queryInterface.dropTable('portfolioRatings')\r\n  }\r\n    "}